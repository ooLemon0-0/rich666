你现在要参与一个已经上线的「多游戏网站平台」开发。

在开始写任何代码之前，
你必须完整理解当前系统结构，
然后在这个架构内设计一个“全新的独立游戏前端”。

---

# 一、平台整体结构（必须先理解）

这是一个真正的线上网站，而不是单一 Vue 项目。

线上真实 URL 结构：

- /                      → 网站主页（纯 HTML，不在本仓库）
- /games/<slug>/         → 每一个独立游戏前端（Vue 构建产物）
- /socket.io/            → Node.js 实时服务（WebSocket）
- /api/                  → Node.js HTTP API
- 其它任意 URL           → nginx 302 跳回主页

重点：

✔ 每个游戏是**完全独立的前端应用**
✔ 但共享 **同一个 Node.js 后端**
✔ 所有游戏都部署在：

        /games/<slug>/

---

# 二、本仓库的定位（非常重要）

这个仓库：

不是整个网站  
只是：

        「某一个游戏的源码模板」

也就是说：

✔ 当前已有一个游戏（示例）
✔ 未来会复制它生成更多游戏
✔ 你现在要做的是：

        在这个模板体系下
        新建一个真正独立的新游戏

---

# 三、技术栈约束（必须遵守）

前端：
- Vue 3
- Vite
- TypeScript
- 必须支持子路径部署（/games/<slug>/）

后端：
- Node.js + socket.io
- 已经运行
- 本次 **不允许修改后端**

部署：
- pnpm build
- dist 复制到：
  /var/www/rich666/games/<slug>/

nginx：
- 已配置完成
- 本次 **绝对不能改 nginx**

---

# 四、本次你的任务

我们要新增一个全新的游戏：

        【在这里写游戏名】

例如：
- tetris
- zombie
- shooter
- snake

---

# 五、你必须完成的设计目标

## 1️⃣ 新游戏必须是“完全独立前端”

不能影响已有游戏。

## 2️⃣ 必须支持任意子路径部署

只能依赖：

    import.meta.env.BASE_URL

绝对不能写死：

    /games/xxx
    localhost
    3000

## 3️⃣ WebSocket 连接必须自动适配当前域名

必须使用：

    window.location.origin

而不是 localhost。

## 4️⃣ 构建后必须可以直接上线

流程必须是：

pnpm build  
→ dist  
→ 复制到 /games/<slug>/  
→ 立刻可访问

不允许再改代码。

---

# 六、在写代码前，你必须先做三件事

### ① 用文字复述你理解的整个平台架构  
确认你真的懂。

### ② 给出这个新游戏的前端结构设计  
包括：

- 页面结构
- 状态管理
- socket 通信方式
- 未来扩展点

### ③ 给出完整开发计划  
按阶段拆分：

- 第一步做什么
- 第二步做什么
- 每一步产出什么

只有在我确认之后，
你才能开始真正写代码。

---

# 七、输出要求（必须严格执行）

先只输出：

1. 架构理解总结
2. 新游戏系统设计
3. 分阶段开发计划

**不要写任何代码。**
等我确认后再进入编码阶段。
